{% extends 'base.html' %}
{% block title %}Predict | HydroScope{% endblock %}

{% block content %}
<div class="container my-5">
    <h2 class="fw-bold text-center mb-4" data-aos="fade-down">Predict Groundwater Level</h2>
    <div class="row">
        <!-- Left: Prediction Methods -->
        <div class="col-lg-6 mb-4" data-aos="fade-right">
            <div class="card p-4 shadow-sm mb-4 method-card">
                <h5>Method 1: By Coordinates</h5>
                <div class="row g-3">
                    <div class="col-6">
                        <input type="number" class="form-control" id="latitude" placeholder="Latitude">
                    </div>
                    <div class="col-6">
                        <input type="number" class="form-control" id="longitude" placeholder="Longitude">
                    </div>
                    <div class="col-12 text-center">
                        <button id="predictBtn" class="btn btn-primary mt-2 btn-zoom">Predict</button>
                    </div>
                </div>
            </div>
            <div id="lastPrediction" data-aos="fade-up"></div>

            <div class="card p-4 shadow-sm method-card">
                <h5>Method 2: By Location Name</h5>
                <div class="row g-3">
                    <div class="col-4">
                        <input type="text" class="form-control" id="state" placeholder="State">
                    </div>
                    <div class="col-4">
                        <input type="text" class="form-control" id="district" placeholder="District">
                    </div>
                    <div class="col-4">
                        <input type="text" class="form-control" id="city" placeholder="City">
                    </div>
                    <div class="col-12 text-center">
                        <button id="locationBtn" class="btn btn-success mt-2 btn-zoom">Get Coordinates & Predict</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Right: Map + Result -->
        <div class="col-lg-6" data-aos="fade-left">
            <div id="map" class="mb-3 map-container"></div>
            <div id="resultCard" class="card p-4 shadow-sm" style="display: none;">
                <h5 class="text-center mb-3">üìç Prediction Result</h5>
                <p><strong>Location:</strong> <span id="resultLocation"></span></p>
                <p><strong>Temperature:</strong> <span id="resultTemp"></span> ¬∞C</p>
                <p><strong>Groundwater Level:</strong> <span id="resultGWL"></span> m</p>
                <div class="text-center">
                    <a href="{{ url_for('result') }}" class="btn btn-outline-primary mt-2 btn-zoom">View Full Results</a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script>
    AOS.init({ duration: 800, once: true });
</script>
<script src="{{ url_for('static', filename='js/predict.js') }}"></script>
{% endblock %}
