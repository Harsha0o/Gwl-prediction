{% extends 'base.html' %}
{% block title %}Result | HydroScope{% endblock %}

{% block content %}
<div class="container my-5">
    <div class="text-center mb-5" data-aos="fade-down">
        <h2 class="fw-bold">Latest Prediction Result</h2>
    </div>

    <div class="row">
        <!-- Left: Predictions -->
        <div class="col-lg-6 mb-4" data-aos="fade-right">
            {% if result %}
            <div class="card p-4 shadow result-card">
                <h4 class="mb-3 text-primary">{{ result.location }}</h4>
                <p>ðŸŒ¡ <strong>Temperature:</strong> {{ result.temperature }}Â°C</p>
                <p>ðŸ’§ <strong>Groundwater Level:</strong> {{ result.groundwater_level }} m</p>
            </div>
            {% else %}
            <div class="alert alert-warning text-center">
                No result found. Please make a prediction first.
            </div>
            {% endif %}

            <h4 class="mt-5 mb-3">Session History</h4>
            <div class="table-responsive">
                <table class="table table-striped table-hover" id="historyTable">
                    <thead class="table-primary">
                        <tr>
                            <th>#</th>
                            <th>Latitude</th>
                            <th>Longitude</th>
                            <th>Location</th>
                            <th>Temp (Â°C)</th>
                            <th>Groundwater (m)</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>

        <!-- Right: Why This Is Needed -->
        <div class="col-lg-6" data-aos="fade-left">
            <div class="card p-4 shadow info-card">
                <h4 class="text-success mb-3"> Why This Matters</h4>
                <p>Understanding groundwater levels helps communities manage water resources, plan for droughts, and ensure sustainable access to clean water.</p>
                <p>By regularly monitoring groundwater, we can:</p>
                <ul>
                    <li> Detect early signs of water depletion</li>
                    <li> Support agricultural planning</li>
                    <li> Protect urban and rural water supplies</li>
                    <li> Promote environmental conservation</li>
                    <li>Improve climate resilience: prepare for changing rainfall patterns</li>
                    <li>Prevent water crises: reduce risk of shortages and restrictions</li>
                    <li>Safeguard drinking water sources from overuse and contamination</li>
                    <li>Enable scientific research for hydrology and climate studies</li>
                    <li>Empower local communities to participate in water stewardship</li>
</ul>
                <p class="mt-3">Thank you for using <strong>HydroScope</strong> to make informed, sustainable water decisions! ðŸ’§</p>
            </div>
        </div>
    </div>

    <h4 class="mt-5 mb-3" data-aos="fade-up"> Groundwater Level Chart</h4>
    <canvas id="groundwaterChart" height="100"></canvas>
</div>
{% endblock %}

{% block scripts %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="{{ url_for('static', filename='js/result.js') }}"></script>
{% endblock %}
